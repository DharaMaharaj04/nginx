{"ast":null,"code":"import _objectSpread from\"D:/nginx/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"D:/nginx/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{ADD_PATIENT,DELETE_PATIENT,EDIT_PATIENT,SET_PATIENTS}from'./types';var initialState=[];export function patientsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_PATIENTS:{return _toConsumableArray(action.payload);}case EDIT_PATIENT:{var editedPatients=state.map(function(el){return el.id!==action.payload.id?el:action.payload;});return _toConsumableArray(editedPatients);}case ADD_PATIENT:{var id=getNewId(state);return[_objectSpread(_objectSpread({},action.payload),{},{id:id})].concat(_toConsumableArray(state));}case DELETE_PATIENT:{var patients=state.filter(function(el){return el.id!==action.id;});return _toConsumableArray(patients);}default:{return state;}}}function getNewId(patients){return patients.map(function(patient){return patient.id;}).map(function(id){return parseInt(id);}).reduce(function(largest,id){return Math.max(largest,id+1);},-1).toString();}","map":{"version":3,"sources":["D:/nginx/frontend/src/redux/patients/reducer.ts"],"names":["ADD_PATIENT","DELETE_PATIENT","EDIT_PATIENT","SET_PATIENTS","initialState","patientsReducer","state","action","type","payload","editedPatients","map","el","id","getNewId","patients","filter","patient","parseInt","reduce","largest","Math","max","toString"],"mappings":"qNAAA,OAASA,WAAT,CAAsBC,cAAtB,CAAsCC,YAAtC,CAAqEC,YAArE,KAAyF,SAAzF,CAGA,GAAMC,CAAAA,YAAwB,CAAG,EAAjC,CAEA,MAAO,SAASC,CAAAA,eAAT,EAGO,IAFZC,CAAAA,KAEY,2DAFQF,YAER,IADZG,CAAAA,MACY,2CACZ,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKL,CAAAA,YAAL,CAAmB,CACjB,0BAAWI,MAAM,CAACE,OAAlB,EACD,CAED,IAAKP,CAAAA,YAAL,CAAmB,CACjB,GAAMQ,CAAAA,cAAc,CAAGJ,KAAK,CAACK,GAAN,CAAU,SAACC,EAAD,QAASA,CAAAA,EAAE,CAACC,EAAH,GAAUN,MAAM,CAACE,OAAP,CAAeI,EAAzB,CAA8BD,EAA9B,CAAmCL,MAAM,CAACE,OAAnD,EAAV,CAAvB,CAEA,0BAAWC,cAAX,EACD,CAED,IAAKV,CAAAA,WAAL,CAAkB,CAChB,GAAMa,CAAAA,EAAE,CAAGC,QAAQ,CAACR,KAAD,CAAnB,CACA,sCAAaC,MAAM,CAACE,OAApB,MAA6BI,EAAE,CAAFA,EAA7B,8BAAsCP,KAAtC,GACD,CAED,IAAKL,CAAAA,cAAL,CAAqB,CACnB,GAAMc,CAAAA,QAAQ,CAAGT,KAAK,CAACU,MAAN,CAAa,SAACJ,EAAD,QAAQA,CAAAA,EAAE,CAACC,EAAH,GAAUN,MAAM,CAACM,EAAzB,EAAb,CAAjB,CACA,0BAAWE,QAAX,EACD,CAED,QAAS,CACP,MAAOT,CAAAA,KAAP,CACD,CAvBH,CAyBD,CAED,QAASQ,CAAAA,QAAT,CAAkBC,QAAlB,CAAwC,CACtC,MAAOA,CAAAA,QAAQ,CACZJ,GADI,CACA,SAACM,OAAD,QAAaA,CAAAA,OAAO,CAACJ,EAArB,EADA,EAEJF,GAFI,CAEA,SAACE,EAAD,QAAQK,CAAAA,QAAQ,CAACL,EAAD,CAAhB,EAFA,EAGJM,MAHI,CAGG,SAACC,OAAD,CAAUP,EAAV,QAAiBQ,CAAAA,IAAI,CAACC,GAAL,CAASF,OAAT,CAAkBP,EAAE,CAAG,CAAvB,CAAjB,EAHH,CAG+C,CAAC,CAHhD,EAIJU,QAJI,EAAP,CAKC","sourcesContent":["import { ADD_PATIENT, DELETE_PATIENT, EDIT_PATIENT, PatientsActions, SET_PATIENTS } from './types';\r\nimport { IPatient } from '../../interfaces/patient';\r\n\r\nconst initialState: IPatient[] = [];\r\n\r\nexport function patientsReducer(\r\n  state: IPatient[] = initialState,\r\n  action: PatientsActions\r\n): IPatient[] {\r\n  switch (action.type) {\r\n    case SET_PATIENTS: {\r\n      return [...action.payload];\r\n    }\r\n\r\n    case EDIT_PATIENT: {\r\n      const editedPatients = state.map((el) => (el.id !== action.payload.id ? el : action.payload));\r\n\r\n      return [...editedPatients];\r\n    }\r\n\r\n    case ADD_PATIENT: {\r\n      const id = getNewId(state);\r\n      return [{ ...action.payload, id }, ...state];\r\n    }\r\n\r\n    case DELETE_PATIENT: {\r\n      const patients = state.filter((el) => el.id !== action.id);\r\n      return [...patients];\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nfunction getNewId(patients: IPatient[]) {\r\n  return patients\r\n    .map((patient) => patient.id)\r\n    .map((id) => parseInt(id))\r\n    .reduce((largest, id) => Math.max(largest, id + 1), -1)\r\n    .toString();\r\n  }\r\n"]},"metadata":{},"sourceType":"module"}