{"ast":null,"code":"import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/select/style\";import _Select from\"antd/es/select\";import _objectSpread from\"D:/nginx/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import React from'react';import{useFormik}from'formik';import*as Yup from'yup';import ImageLoader from'./ImageLoader';import{hasErrorFactory}from'../../../utils/hasError';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TextArea=_Input.TextArea;var defaultSubmitText='Add patient';var emptyPatient={name:null,address:null,status:null,age:null,number:null,gender:null,img:null};var patientScheme=Yup.object({name:Yup.string().required(),address:Yup.string().required(),status:Yup.string().required(),age:Yup.string().required(),number:Yup.string().required(),gender:Yup.string().required(),img:Yup.string().required()});var PatientForm=function PatientForm(_ref){var _ref$submitText=_ref.submitText,submitText=_ref$submitText===void 0?defaultSubmitText:_ref$submitText,_ref$patient=_ref.patient,patient=_ref$patient===void 0?emptyPatient:_ref$patient,_onSubmit=_ref.onSubmit,onCancel=_ref.onCancel;var _useFormik=useFormik({validationSchema:patientScheme,initialValues:patient,onSubmit:function onSubmit(values){_onSubmit(values);onCancel();}}),setFieldTouched=_useFormik.setFieldTouched,setFieldValue=_useFormik.setFieldValue,handleChange=_useFormik.handleChange,handleSubmit=_useFormik.handleSubmit,setValues=_useFormik.setValues,handleBlur=_useFormik.handleBlur,resetForm=_useFormik.resetForm,touched=_useFormik.touched,values=_useFormik.values,errors=_useFormik.errors,isValid=_useFormik.isValid;var handleGenderSelect=function handleGenderSelect(value){return setFieldValue('gender',value);};var handleStatusSelect=function handleStatusSelect(value){return setFieldValue('status',value);};var hasError=hasErrorFactory(touched,errors);var handleCancel=function handleCancel(){resetForm();onCancel();};var handleImageLoad=function handleImageLoad(img){setValues(_objectSpread(_objectSpread({},values),{},{img:img}));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(ImageLoader,{onLoad:handleImageLoad,src:values.img})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(_Input,{placeholder:\"Name\",name:\"name\",type:\"text\",onBlur:handleBlur,onChange:handleChange,defaultValue:values.name,className:hasError('name')})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(_Input,{placeholder:\"Phone\",name:\"number\",type:\"phone\",onBlur:handleBlur,onChange:handleChange,defaultValue:values.number,className:hasError('number')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(_Input,{name:\"age\",type:\"number\",placeholder:\"Age\",onBlur:handleBlur,onChange:handleChange,defaultValue:values.age,className:hasError('age')})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(_Select,{placeholder:\"Gender\",defaultValue:values.gender,onChange:handleGenderSelect,className:hasError('gender'),onBlur:function onBlur(){return setFieldTouched('gender');},children:[/*#__PURE__*/_jsx(_Select.Option,{value:\"Male\",children:\"Male\"}),/*#__PURE__*/_jsx(_Select.Option,{value:\"Female\",children:\"Female\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(_Select,{placeholder:\"Status\",defaultValue:values.status,onChange:handleStatusSelect,className:hasError('status'),onBlur:function onBlur(){return setFieldTouched('status');},children:[/*#__PURE__*/_jsx(_Select.Option,{value:\"Approved\",children:\"Approved\"}),/*#__PURE__*/_jsx(_Select.Option,{value:\"Pending\",children:\"Pending\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(TextArea,{rows:3,name:\"address\",placeholder:\"Address\",onBlur:handleBlur,onChange:handleChange,defaultValue:values.address,className:hasError('address')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between buttons-list settings-actions\",children:[/*#__PURE__*/_jsx(_Button,{danger:true,onClick:handleCancel,children:\"Cancel\"}),/*#__PURE__*/_jsx(_Button,{disabled:!isValid,type:\"primary\",htmlType:\"submit\",children:submitText})]})]})});};export default PatientForm;","map":{"version":3,"sources":["D:/nginx/frontend/src/layout/components/patients/PatientForm.tsx"],"names":["React","useFormik","Yup","ImageLoader","hasErrorFactory","TextArea","defaultSubmitText","emptyPatient","name","address","status","age","number","gender","img","patientScheme","object","string","required","PatientForm","submitText","patient","onSubmit","onCancel","validationSchema","initialValues","values","setFieldTouched","setFieldValue","handleChange","handleSubmit","setValues","handleBlur","resetForm","touched","errors","isValid","handleGenderSelect","value","handleStatusSelect","hasError","handleCancel","handleImageLoad"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport { Button, Select, Input } from 'antd';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport ImageLoader from './ImageLoader';\r\nimport { hasErrorFactory } from '../../../utils/hasError';\r\n\r\nimport { IPatient } from '../../../interfaces/patient';\r\n\r\nconst { TextArea } = Input;\r\ntype Props = {\r\n  onSubmit: (patient: IPatient) => void;\r\n  onCancel: () => void;\r\n  patient?: IPatient;\r\n  submitText?: string;\r\n};\r\n\r\nconst defaultSubmitText = 'Add patient';\r\nconst emptyPatient = {\r\n  name: null,\r\n  address: null,\r\n  status: null,\r\n  age: null,\r\n  number: null,\r\n  gender: null,\r\n  img: null\r\n};\r\n\r\nconst patientScheme = Yup.object({\r\n  name: Yup.string().required(),\r\n  address: Yup.string().required(),\r\n  status: Yup.string().required(),\r\n  age: Yup.string().required(),\r\n  number: Yup.string().required(),\r\n  gender: Yup.string().required(),\r\n  img: Yup.string().required()\r\n});\r\n\r\nconst PatientForm = ({\r\n  submitText = defaultSubmitText,\r\n  patient = emptyPatient,\r\n  onSubmit,\r\n  onCancel\r\n}: Props) => {\r\n  const {\r\n    setFieldTouched,\r\n    setFieldValue,\r\n    handleChange,\r\n    handleSubmit,\r\n    setValues,\r\n    handleBlur,\r\n    resetForm,\r\n    touched,\r\n    values,\r\n    errors,\r\n    isValid\r\n  } = useFormik<IPatient>({\r\n    validationSchema: patientScheme,\r\n    initialValues: patient,\r\n    onSubmit: (values) => {\r\n      onSubmit(values);\r\n      onCancel();\r\n    }\r\n  });\r\n\r\n  const handleGenderSelect = (value) => setFieldValue('gender', value);\r\n  const handleStatusSelect = (value) => setFieldValue('status', value);\r\n\r\n  const hasError = hasErrorFactory(touched, errors);\r\n\r\n  const handleCancel = () => {\r\n    resetForm();\r\n    onCancel();\r\n  };\r\n\r\n  const handleImageLoad = (img) => {\r\n    setValues({ ...values, img });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className='form-group'>\r\n          <ImageLoader onLoad={handleImageLoad} src={values.img as string} />\r\n        </div>\r\n\r\n        <div className='form-group'>\r\n          <Input\r\n            placeholder='Name'\r\n            name='name'\r\n            type='text'\r\n            onBlur={handleBlur}\r\n            onChange={handleChange}\r\n            defaultValue={values.name}\r\n            className={hasError('name')}\r\n          />\r\n        </div>\r\n\r\n        <div className='form-group'>\r\n          <Input\r\n            placeholder='Phone'\r\n            name='number'\r\n            type='phone'\r\n            onBlur={handleBlur}\r\n            onChange={handleChange}\r\n            defaultValue={values.number}\r\n            className={hasError('number')}\r\n          />\r\n        </div>\r\n\r\n        <div className='row'>\r\n          <div className='col-sm-6 col-12'>\r\n            <div className='form-group'>\r\n              <Input\r\n                name='age'\r\n                type='number'\r\n                placeholder='Age'\r\n                onBlur={handleBlur}\r\n                onChange={handleChange}\r\n                defaultValue={values.age}\r\n                className={hasError('age')}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className='col-sm-6 col-12'>\r\n            <div className='form-group'>\r\n              <Select\r\n                placeholder='Gender'\r\n                defaultValue={values.gender}\r\n                onChange={handleGenderSelect}\r\n                className={hasError('gender')}\r\n                onBlur={() => setFieldTouched('gender')}\r\n              >\r\n                <Select.Option value='Male'>Male</Select.Option>\r\n                <Select.Option value='Female'>Female</Select.Option>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='form-group'>\r\n          <Select\r\n            placeholder='Status'\r\n            defaultValue={values.status}\r\n            onChange={handleStatusSelect}\r\n            className={hasError('status')}\r\n            onBlur={() => setFieldTouched('status')}\r\n          >\r\n            <Select.Option value='Approved'>Approved</Select.Option>\r\n            <Select.Option value='Pending'>Pending</Select.Option>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className='form-group'>\r\n          <TextArea\r\n            rows={3}\r\n            name='address'\r\n            placeholder='Address'\r\n            onBlur={handleBlur}\r\n            onChange={handleChange}\r\n            defaultValue={values.address}\r\n            className={hasError('address')}\r\n          />\r\n        </div>\r\n\r\n        <div className='d-flex justify-content-between buttons-list settings-actions'>\r\n          <Button danger onClick={handleCancel}>\r\n            Cancel\r\n          </Button>\r\n\r\n          <Button disabled={!isValid} type='primary' htmlType='submit'>\r\n            {submitText}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PatientForm;\r\n"]},"metadata":{},"sourceType":"module"}