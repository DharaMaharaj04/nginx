{"ast":null,"code":"import\"antd/es/button/style\";import _Button from\"antd/es/button\";import _toConsumableArray from\"D:/nginx/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/nginx/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import EditAppointment from'./EditAppointment';import AddAppointment from'./AddAppointment';import AppointmentsTable from'../../../layout/components/appointmentsTable/AppointmentsTable';import PageAction from'../../../layout/components/page-action/PageAction';import{useFetchPageData,usePageData}from'../../../hooks/usePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var pageData={title:'Appointments',fulFilled:false,breadcrumbs:[{title:'Medicine',route:'default-dashboard'},{title:'Appointments'}]};var AppointmentsPage=function AppointmentsPage(){usePageData(pageData);var _useFetchPageData=useFetchPageData('./data/appointments.json',[]),_useFetchPageData2=_slicedToArray(_useFetchPageData,2),appointments=_useFetchPageData2[0],setAppointments=_useFetchPageData2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedAppointment=_useState2[0],setSelectedAppointment=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),addingModalVisibility=_useState4[0],setAddingModalVisibility=_useState4[1];var handleDelete=function handleDelete(appointment){var newAppointments=appointments.filter(function(el){return el!==appointment;});setAppointments(newAppointments);};var handleEdit=function handleEdit(appointment){var editedAppointments=appointments.map(function(el){return el!==selectedAppointment?el:appointment;});setAppointments(editedAppointments);setSelectedAppointment(null);};var openAddingModal=function openAddingModal(){return setAddingModalVisibility(true);};var addAppointment=function addAppointment(appointment){setAppointments([appointment].concat(_toConsumableArray(appointments)));setAddingModalVisibility(false);};var closeAddingModal=function closeAddingModal(){return setAddingModalVisibility(false);};var openEditModal=function openEditModal(appointment){return setSelectedAppointment(appointment);};var closeModal=function closeModal(){setSelectedAppointment(null);};var appointmentsActions=function appointmentsActions(appointment){return/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-list nowrap\",children:[/*#__PURE__*/_jsx(_Button,{onClick:openEditModal.bind({},appointment),shape:\"circle\",type:\"primary\",children:/*#__PURE__*/_jsx(\"span\",{className:\"icofont icofont-edit-alt\"})}),/*#__PURE__*/_jsx(_Button,{onClick:handleDelete.bind({},appointment),shape:\"circle\",danger:true,children:/*#__PURE__*/_jsx(\"span\",{className:\"icofont icofont-ui-delete\"})})]});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppointmentsTable,{data:appointments,actions:appointmentsActions}),/*#__PURE__*/_jsx(PageAction,{onClick:openAddingModal,icon:\"icofont-stethoscope-alt\",type:'primary'}),/*#__PURE__*/_jsx(AddAppointment,{onClose:closeAddingModal,visible:addingModalVisibility,onSubmit:addAppointment}),/*#__PURE__*/_jsx(EditAppointment,{appointment:selectedAppointment,visible:!!selectedAppointment,onClose:closeModal,onEdited:handleEdit})]});};export default AppointmentsPage;","map":{"version":3,"sources":["D:/nginx/frontend/src/pages/dashboards/appointments/AppointmentsPage.tsx"],"names":["React","useState","EditAppointment","AddAppointment","AppointmentsTable","PageAction","useFetchPageData","usePageData","pageData","title","fulFilled","breadcrumbs","route","AppointmentsPage","appointments","setAppointments","selectedAppointment","setSelectedAppointment","addingModalVisibility","setAddingModalVisibility","handleDelete","appointment","newAppointments","filter","el","handleEdit","editedAppointments","map","openAddingModal","addAppointment","closeAddingModal","openEditModal","closeModal","appointmentsActions","bind"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\n\r\nimport { Button } from 'antd';\r\n\r\nimport EditAppointment from './EditAppointment';\r\nimport AddAppointment from './AddAppointment';\r\nimport AppointmentsTable from '../../../layout/components/appointmentsTable/AppointmentsTable';\r\n\r\nimport PageAction from '../../../layout/components/page-action/PageAction';\r\nimport { useFetchPageData, usePageData } from '../../../hooks/usePage';\r\n\r\nimport { IAppointment } from '../../../interfaces/patient';\r\nimport { IPageData } from '../../../interfaces/page';\r\n\r\nconst pageData: IPageData = {\r\n  title: 'Appointments',\r\n  fulFilled: false,\r\n  breadcrumbs: [\r\n    {\r\n      title: 'Medicine',\r\n      route: 'default-dashboard'\r\n    },\r\n    {\r\n      title: 'Appointments'\r\n    }\r\n  ]\r\n};\r\n\r\nconst AppointmentsPage = () => {\r\n  usePageData(pageData);\r\n  const [appointments, setAppointments] = useFetchPageData<IAppointment[]>(\r\n    './data/appointments.json',\r\n    []\r\n  );\r\n\r\n  const [selectedAppointment, setSelectedAppointment] = useState(null);\r\n  const [addingModalVisibility, setAddingModalVisibility] = useState(false);\r\n\r\n  const handleDelete = (appointment: IAppointment) => {\r\n    const newAppointments = appointments.filter((el) => el !== appointment);\r\n    setAppointments(newAppointments);\r\n  };\r\n\r\n  const handleEdit = (appointment: IAppointment) => {\r\n    const editedAppointments = appointments.map((el) =>\r\n      el !== selectedAppointment ? el : appointment\r\n    );\r\n    setAppointments(editedAppointments);\r\n    setSelectedAppointment(null);\r\n  };\r\n\r\n  const openAddingModal = () => setAddingModalVisibility(true);\r\n\r\n  const addAppointment = (appointment: IAppointment) => {\r\n    setAppointments([appointment, ...appointments]);\r\n    setAddingModalVisibility(false);\r\n  };\r\n\r\n  const closeAddingModal = () => setAddingModalVisibility(false);\r\n\r\n  const openEditModal = (appointment: IAppointment) => setSelectedAppointment(appointment);\r\n\r\n  const closeModal = () => {\r\n    setSelectedAppointment(null);\r\n  };\r\n\r\n  const appointmentsActions = (appointment: IAppointment) => (\r\n    <div className='buttons-list nowrap'>\r\n      <Button onClick={openEditModal.bind({}, appointment)} shape='circle' type='primary'>\r\n        <span className='icofont icofont-edit-alt' />\r\n      </Button>\r\n      <Button onClick={handleDelete.bind({}, appointment)} shape='circle' danger>\r\n        <span className='icofont icofont-ui-delete' />\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <AppointmentsTable data={appointments} actions={appointmentsActions} />\r\n\r\n      <PageAction onClick={openAddingModal} icon='icofont-stethoscope-alt' type={'primary'} />\r\n\r\n      <AddAppointment\r\n        onClose={closeAddingModal}\r\n        visible={addingModalVisibility}\r\n        onSubmit={addAppointment}\r\n      />\r\n\r\n      <EditAppointment\r\n        appointment={selectedAppointment}\r\n        visible={!!selectedAppointment}\r\n        onClose={closeModal}\r\n        onEdited={handleEdit}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppointmentsPage;\r\n"]},"metadata":{},"sourceType":"module"}