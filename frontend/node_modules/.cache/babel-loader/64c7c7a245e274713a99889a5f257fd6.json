{"ast":null,"code":"import\"antd/es/card/style\";import _Card from\"antd/es/card\";import\"antd/es/button/style\";import _Button from\"antd/es/button\";import _objectSpread from\"D:/nginx/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/nginx/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"antd/es/table/style\";import _Table from\"antd/es/table\";import React from'react';import{PrinterOutlined}from'@ant-design/icons/lib';import{useFetchPageData,usePageData}from'../../hooks/usePage';import{useGetInvoice}from'../../hooks/useGetInvoices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var pageData={fulFilled:false,breadcrumbs:[{title:'Apps',route:'default-dashboard'},{title:'Service pages',route:'default-dashboard'},{title:'Invoices',route:'invoices'},{title:'Invoice'}]};var InvoiceInfo=function InvoiceInfo(_ref){var customerAddress=_ref.customerAddress,customerCity=_ref.customerCity,customerFax=_ref.customerFax,customerName=_ref.customerName,dueTo=_ref.dueTo,invoiceDate=_ref.invoiceDate,senderAddress=_ref.senderAddress,senderCity=_ref.senderCity,senderFax=_ref.senderFax,senderName=_ref.senderName;return/*#__PURE__*/_jsxs(\"div\",{className:\"row info-block\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 col-sm-6 col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sender\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"title\",children:\"Invoice from\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:senderName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:senderAddress}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:senderCity}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:senderFax})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 col-sm-6 col-12\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"title\",children:\"Invoice to\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:customerName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:customerAddress}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:customerCity}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:customerFax})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 col-sm-6 col-12\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"title\",children:\"Invoice Date\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info\",children:/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:invoiceDate})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 col-sm-6 col-12\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"title\",children:\"Due to\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info\",children:/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:dueTo})})]})]});};var InvoiceTable=function InvoiceTable(_ref2){var _ref2$records=_ref2.records,records=_ref2$records===void 0?[]:_ref2$records;if(!records)return/*#__PURE__*/_jsx(_Fragment,{});var invoiceTotal=records.filter(function(_ref3){var cost=_ref3.cost,quantity=_ref3.quantity;return!isNaN(cost)&&!isNaN(quantity);}).map(function(el){return el.cost*el.quantity;}).reduce(function(cost,acc){return acc+cost;},0);var vat=Math.floor(invoiceTotal/10);var columns=[{title:'#',dataIndex:'num',key:'#'},{title:'GROUP NAME',dataIndex:'groupName',key:'group',render:function render(name){return name!=='total'?name:null;}},{title:'QUANTITY',dataIndex:'quantity',key:'qnt'},{title:'COST',dataIndex:'cost',key:'cost',render:function render(cost){return cost!=='total'?'$'+cost:null;}},{title:'Total',key:'total',render:function render(_ref4){var total=_ref4.total,quantity=_ref4.quantity,cost=_ref4.cost;return!total?\"$\".concat(quantity*cost):/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:30},children:[\"$\",invoiceTotal+vat]});}}];return/*#__PURE__*/_jsx(_Table,{rowKey:\"num\",pagination:{hideOnSinglePage:true},columns:columns,dataSource:records});};var InvoicePage=function InvoicePage(){var _useFetchPageData=useFetchPageData('./data/invoice.json',[]),_useFetchPageData2=_slicedToArray(_useFetchPageData,1),records=_useFetchPageData2[0];var invoice=useGetInvoice();usePageData(pageData);return/*#__PURE__*/_jsx(_Card,{title:\"Invoice #INV-17\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stack\",children:[/*#__PURE__*/_jsx(InvoiceInfo,_objectSpread({},invoice)),/*#__PURE__*/_jsx(InvoiceTable,{records:records}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-end w-100\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\",className:\"mr-4\",children:/*#__PURE__*/_jsx(PrinterOutlined,{style:{fontSize:'25px'}})}),/*#__PURE__*/_jsx(_Button,{type:\"primary\",children:\"Send invoice\"})]})]})});};export default InvoicePage;","map":{"version":3,"sources":["D:/nginx/frontend/src/pages/services/InvoicePage.tsx"],"names":["React","PrinterOutlined","useFetchPageData","usePageData","useGetInvoice","pageData","fulFilled","breadcrumbs","title","route","InvoiceInfo","customerAddress","customerCity","customerFax","customerName","dueTo","invoiceDate","senderAddress","senderCity","senderFax","senderName","InvoiceTable","records","invoiceTotal","filter","cost","quantity","isNaN","map","el","reduce","acc","vat","Math","floor","columns","dataIndex","key","render","name","total","fontSize","hideOnSinglePage","InvoicePage","invoice"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport { Button, Card, Table } from 'antd';\r\nimport { PrinterOutlined } from '@ant-design/icons/lib';\r\n\r\nimport { useFetchPageData, usePageData } from '../../hooks/usePage';\r\nimport { useGetInvoice } from '../../hooks/useGetInvoices';\r\n\r\nimport { IPageData } from '../../interfaces/page';\r\nimport { IInvoice, IInvoiceRecord } from '../../interfaces/invoice';\r\n\r\nconst pageData: IPageData = {\r\n  fulFilled: false,\r\n  breadcrumbs: [\r\n    {\r\n      title: 'Apps',\r\n      route: 'default-dashboard'\r\n    },\r\n    {\r\n      title: 'Service pages',\r\n      route: 'default-dashboard'\r\n    },\r\n    {\r\n      title: 'Invoices',\r\n      route: 'invoices'\r\n    },\r\n    {\r\n      title: 'Invoice'\r\n    }\r\n  ]\r\n};\r\n\r\nconst InvoiceInfo = ({\r\n  customerAddress,\r\n  customerCity,\r\n  customerFax,\r\n  customerName,\r\n  dueTo,\r\n  invoiceDate,\r\n  senderAddress,\r\n  senderCity,\r\n  senderFax,\r\n  senderName\r\n}: IInvoice) => {\r\n  return (\r\n    <div className='row info-block'>\r\n      <div className='col-md-3 col-sm-6 col-12'>\r\n        <div className='sender'>\r\n          <h5 className='title'>Invoice from</h5>\r\n\r\n          <div className='info'>\r\n            <span className='info-label'>{senderName}</span>\r\n            <br />\r\n            <span className='info-label'>{senderAddress}</span> <br />\r\n            <span className='info-label'>{senderCity}</span> <br />\r\n            <span className='info-label'>{senderFax}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className='col-md-3 col-sm-6 col-12'>\r\n        <h5 className='title'>Invoice to</h5>\r\n\r\n        <div className='info'>\r\n          <span className='info-label'>{customerName}</span>\r\n          <br />\r\n          <span className='info-label'>{customerAddress}</span> <br />\r\n          <span className='info-label'>{customerCity}</span> <br />\r\n          <span className='info-label'>{customerFax}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className='col-md-3 col-sm-6 col-12'>\r\n        <h5 className='title'>Invoice Date</h5>\r\n\r\n        <div className='info'>\r\n          <span className='info-label'>{invoiceDate}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className='col-md-3 col-sm-6 col-12'>\r\n        <h5 className='title'>Due to</h5>\r\n\r\n        <div className='info'>\r\n          <span className='info-label'>{dueTo}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst InvoiceTable = ({ records = [] }) => {\r\n  if (!records) return <></>;\r\n\r\n  const invoiceTotal = records\r\n    .filter(({ cost, quantity }) => !isNaN(cost) && !isNaN(quantity))\r\n    .map((el) => el.cost * el.quantity)\r\n    .reduce((cost, acc) => acc + cost, 0);\r\n\r\n  const vat = Math.floor(invoiceTotal / 10);\r\n\r\n  const columns = [\r\n    {\r\n      title: '#',\r\n      dataIndex: 'num',\r\n      key: '#'\r\n    },\r\n    {\r\n      title: 'GROUP NAME',\r\n      dataIndex: 'groupName',\r\n      key: 'group',\r\n      render: (name) => (name !== 'total' ? name : null)\r\n    },\r\n    {\r\n      title: 'QUANTITY',\r\n      dataIndex: 'quantity',\r\n      key: 'qnt'\r\n    },\r\n    {\r\n      title: 'COST',\r\n      dataIndex: 'cost',\r\n      key: 'cost',\r\n      render: (cost) => (cost !== 'total' ? '$' + cost : null)\r\n    },\r\n    {\r\n      title: 'Total',\r\n      key: 'total',\r\n      render: ({ total, quantity, cost }) =>\r\n        !total ? `$${quantity * cost}` : <span style={{ fontSize: 30 }}>${invoiceTotal + vat}</span>\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Table\r\n      rowKey='num'\r\n      pagination={{ hideOnSinglePage: true }}\r\n      columns={columns}\r\n      dataSource={records}\r\n    />\r\n  );\r\n};\r\n\r\nconst InvoicePage = () => {\r\n  const [records] = useFetchPageData<IInvoiceRecord[]>('./data/invoice.json', []);\r\n  const invoice = useGetInvoice();\r\n\r\n  usePageData(pageData);\r\n\r\n  return (\r\n    <Card title='Invoice #INV-17'>\r\n      <div className='stack'>\r\n        <InvoiceInfo {...invoice} />\r\n        <InvoiceTable records={records} />\r\n\r\n        <div className='d-flex align-items-center justify-content-end w-100'>\r\n          <a href='' className='mr-4'>\r\n            <PrinterOutlined style={{ fontSize: '25px' }} />\r\n          </a>\r\n          <Button type='primary'>Send invoice</Button>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default InvoicePage;\r\n"]},"metadata":{},"sourceType":"module"}