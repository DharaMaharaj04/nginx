{"ast":null,"code":"import _slicedToArray from\"D:/nginx/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{SketchPicker}from'react-color';import PickerField from'./picker-field/PickerFileld';import ColorUtils from'../../utils/color-utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getContrast=function getContrast(hexColor){if(!hexColor){return null;}var _ColorUtils$hexToRgb=ColorUtils.hexToRgb(hexColor),_ColorUtils$hexToRgb2=_slicedToArray(_ColorUtils$hexToRgb,3),r=_ColorUtils$hexToRgb2[0],g=_ColorUtils$hexToRgb2[1],b=_ColorUtils$hexToRgb2[2];return ColorUtils.checkContrastColor(r,g,b);};var getColor=function getColor(hexColor){return{color:hexColor,contrast:getContrast(hexColor)};};var ColorPicker=function ColorPicker(_ref){var pickerOpened=_ref.opened,color=_ref.color,onColorChange=_ref.onColorChange;var _useState=useState(pickerOpened),_useState2=_slicedToArray(_useState,2),opened=_useState2[0],setOpened=_useState2[1];var handleColorChange=function handleColorChange(color){return onColorChange(getColor(color.hex));};var handlePickerOpen=function handlePickerOpen(){return setOpened(true);};var handleClose=function handleClose(){return setOpened(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PickerField,{savedColor:color,onOpenPicker:handlePickerOpen}),opened&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"picker-cover\",onClick:handleClose}),/*#__PURE__*/_jsx(SketchPicker,{onChangeComplete:handleColorChange,color:color,presetColors:[],disableAlpha:true})]})]});};export default ColorPicker;","map":{"version":3,"sources":["D:/nginx/frontend/src/ui/color-picker/ColorPicker.tsx"],"names":["React","useState","SketchPicker","PickerField","ColorUtils","getContrast","hexColor","hexToRgb","r","g","b","checkContrastColor","getColor","color","contrast","ColorPicker","pickerOpened","opened","onColorChange","setOpened","handleColorChange","hex","handlePickerOpen","handleClose"],"mappings":"uGAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,YAAT,KAA6B,aAA7B,CAEA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,C,6IAOA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,QAAD,CAAsB,CACxC,GAAI,CAACA,QAAL,CAAe,CACb,MAAO,KAAP,CACD,CAED,yBAAkBF,UAAU,CAACG,QAAX,CAAoBD,QAApB,CAAlB,8DAAOE,CAAP,0BAAUC,CAAV,0BAAaC,CAAb,0BACA,MAAON,CAAAA,UAAU,CAACO,kBAAX,CAA8BH,CAA9B,CAAiCC,CAAjC,CAAoCC,CAApC,CAAP,CACD,CAPD,CASA,GAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACN,QAAD,QAAoC,CACnDO,KAAK,CAAEP,QAD4C,CAEnDQ,QAAQ,CAAET,WAAW,CAACC,QAAD,CAF8B,CAApC,EAAjB,CAYA,GAAMS,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAA2D,IAAhDC,CAAAA,YAAgD,MAAxDC,MAAwD,CAAlCJ,KAAkC,MAAlCA,KAAkC,CAA3BK,aAA2B,MAA3BA,aAA2B,CAC7E,cAA4BjB,QAAQ,CAAUe,YAAV,CAApC,wCAAOC,MAAP,eAAeE,SAAf,eAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAP,KAAK,QAAIK,CAAAA,aAAa,CAACN,QAAQ,CAACC,KAAK,CAACQ,GAAP,CAAT,CAAjB,EAA/B,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,SAAMH,CAAAA,SAAS,CAAC,IAAD,CAAf,EAAzB,CAEA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAMJ,CAAAA,SAAS,CAAC,KAAD,CAAf,EAApB,CAEA,mBACE,wCACE,KAAC,WAAD,EAAa,UAAU,CAAEN,KAAzB,CAAgC,YAAY,CAAES,gBAA9C,EADF,CAGGL,MAAM,eACL,wCACE,YAAK,SAAS,CAAC,cAAf,CAA8B,OAAO,CAAEM,WAAvC,EADF,cAEE,KAAC,YAAD,EACE,gBAAgB,CAAEH,iBADpB,CAEE,KAAK,CAAEP,KAFT,CAGE,YAAY,CAAE,EAHhB,CAIE,YAAY,KAJd,EAFF,GAJJ,GADF,CAiBD,CA1BD,CA4BA,cAAeE,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { SketchPicker } from 'react-color';\r\n\r\nimport PickerField from './picker-field/PickerFileld';\r\nimport ColorUtils from '../../utils/color-utils';\r\n\r\nexport type PickerColor = {\r\n  color: string;\r\n  contrast: string;\r\n};\r\n\r\nconst getContrast = (hexColor: string) => {\r\n  if (!hexColor) {\r\n    return null;\r\n  }\r\n\r\n  const [r, g, b] = ColorUtils.hexToRgb(hexColor);\r\n  return ColorUtils.checkContrastColor(r, g, b);\r\n};\r\n\r\nconst getColor = (hexColor: string): PickerColor => ({\r\n  color: hexColor,\r\n  contrast: getContrast(hexColor)\r\n});\r\n\r\ntype Props = {\r\n  color?: string;\r\n  secondColor?: string;\r\n  opened?: boolean;\r\n  onColorChange?: (color: PickerColor) => void;\r\n};\r\n\r\nconst ColorPicker = ({ opened: pickerOpened, color, onColorChange }: Props) => {\r\n  const [opened, setOpened] = useState<boolean>(pickerOpened);\r\n\r\n  const handleColorChange = color => onColorChange(getColor(color.hex));\r\n\r\n  const handlePickerOpen = () => setOpened(true);\r\n\r\n  const handleClose = () => setOpened(false);\r\n\r\n  return (\r\n    <>\r\n      <PickerField savedColor={color} onOpenPicker={handlePickerOpen} />\r\n\r\n      {opened && (\r\n        <>\r\n          <div className='picker-cover' onClick={handleClose} />\r\n          <SketchPicker\r\n            onChangeComplete={handleColorChange}\r\n            color={color}\r\n            presetColors={[]}\r\n            disableAlpha\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ColorPicker;\r\n"]},"metadata":{},"sourceType":"module"}